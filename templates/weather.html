<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Report</title>
    <link rel="stylesheet" href="static/whether.css">
</head>
<body>
    <header>
        <h1>Welcome to Our Weather World</h1>
    </header>
    <main>
        <section class="animation-container">
            <div class="animated-element">
                <img src="static/pic/pexels-andre-furtado-1162251.jpg" alt="Image 1">
            </div>
            <div class="animated-element">
                <img src="static/pic/pexels-arnie-chou-1229042.jpg" alt="Image 2">
            </div>
            <div class="animated-element">
                <img src="static/pic/pexels-stacey-koenitz-r-2559484.jpg" alt="Image 3">
            </div>
            <div class="animated-element">
                <img src="static/pic/pexels-pixabay-76969.jpg" alt="Image 4">
            </div>
            <!-- <div class="animated-element">
                <img src="pexels-pixabay-76969.jpg" alt="Image 5">
            </div> -->
        </section>
        <section class="content">
            <h2>whether Report</h2>
            <form action="/show_weather" method="post">
                <label for="location">Enter Your Location:</label>
                <input type="text" id="location" name="location" placeholder="E.g., New York" required>
                <button type="submit">Submit</button>
            </form>
        </section>
    </main>
    <footer>
        <p>&copy; 2023 Ashish Yadav</p>
    </footer>
    {%if show%}   
    <!--html start for the popup -->
    <div class="popup-overlay" id="popupOverlay">
        <div class="popup-content">
                    <img src={{img}} alt="Sunny">
                    <h2>{{data['condition']['text']}} {{day}}</h2>
                    <p>Temperature: {{data['temp_c']}}c</p>
                    <p>Humidity: {{data['humidity']}}</p>
                    <p>Wind: {{data['wind_dir']}} at {{data['wind_mph']}}</p>
                    <p>Gust Wind: {{data['gust_mph']}}</p>
                    <p>Visibility in miles: {{data['vis_miles']}}</p>
                    <p>UV radiation: {{data['uv']}}</p>
                    <p>Atmospheric pressure in millibars: {{data['pressure_mb']}}</p>
                    <p>Updated on: {{data['last_updated']}}</p>
          <button type="submit" id="closeButton" onclick="ok()">Ok</button>
        </div>
    </div>
    <!-- end of popup  -->
    <script>
        const popupOverlay = document.getElementById('popupOverlay');
        // const closeButton = document.getElementById('closeButton'); 
        document.addEventListener('keypress', handleKeyPress); 
        function popup(){
            popupOverlay.style.display = 'flex';
        }
        function ok(){
            popupOverlay.style.display = 'none';
        }
        function handleKeyPress(event) {
                if (event.key === 'Enter') {
                    popupOverlay.style.display = 'none';
                }
            } 
            popup();  
    </script>
    {%endif%}  
</body>
</html>
